<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Histogram stuff" />

    <meta name="author" content="Aran Lunzer and Amelia McNamara">
    <title>Interactive Essay on Histograms</title>
    <link rel="stylesheet" href="dist/font-awesome/css/font-awesome.min.css">
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="dist/css/my.css" rel="stylesheet">
    <link href="css/scrolly.css" rel="stylesheet">
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }}" href="{{ site.baseurl }}/blog/feed.xml">

    <style>@import 'https://fonts.googleapis.com/css?family=Raleway:100,300';</style>
    
<script type="text/javascript" src="https://cdn.rawgit.com/LivelyKernel/lively.lang/279fdedd91555bdf1a81aa554b0a2f3e3ba97e5e/dist/lively.lang.min.js"></script>
<script type="text/javascript" src="dist/js/d3.v4.js"></script>
<script type="text/javascript" src="js/chartObject.js"></script>
<script>
window.Global = window;

lively.lang.installGlobals();
lively.pt = function pt(x, y) { return { x:x, y: y } }; // trivial, non-functional version

// the chartDefs function is expected to return one or more functions, each of which accepts a newly created chartObject and initialises it  
function startup() {
    chartDefs().forEach(initFn=>initFn(createChartObject()));
};

function chartDefs() { return [
    // for now, on a scrolly page we only expect a single vis definition.
    ch=>{
        var options = {
            stepDefinitions: ch.sampleScrollySections(),
            visExtent: { x: 900, y: 850 }, // preferred, and max
            visMinExtent: { x: 500, y: 500 },
            textMinWidth: 300,
            textMaxWidth: 600,
            element: "vis",
            dataset: "mpg"
        };
        ch.initScrolliness(options);
        }
    ] }
</script>
</head>


<body onload="startup()">

<div class="container">
	<div class="row">
	<div class="col-lg-12">
		<h1 id="top">What's so hard about histograms?</h1>	
		<p class="lead">Histograms are a way to summarize a numeric variable. They use counts to aggregate similar values together and show you the overall distribution. However, they can be sensitive to parameter choices!</p>
	</div>
</div>


<div class="row">&nbsp;</div>
<div class="row">
	<h2>Exploratory data analysis and summarizing data</h2>
	<div class="col-lg-8">
		
		<p>When thinking about data, it is often useful to produce plots of variables in one- and two-dimensions, a process which is called <a href="https://en.wikipedia.org/wiki/Exploratory_data_analysis">Exploratory Data Analysis</a>, or EDA. EDA was the brainchild of John Tukey in the 1960s, and has become even more powerful with the rise of better computer graphics.</p>

		<p>The way you plot a variable depends on whether it the variable is numeric or categorical.</p>

		<p><b>Numeric</b> variables are those measured as numbers. For example, height is numeric, often measured in centimeters or inches. Age is numeric, measured in years or days. Numeric variables can be <b>discrete</b> or <b>continuous</b>. Discrete variables can only take on certain integer values. Continuous variables can take on any value! If you think about the number <a href="https://en.wikipedia.org/wiki/Pi">pi</a>, it is a number with an infinite decimal. Continuous variables don't have to take on such extremely irrational value, they might be numbers like 2.56. </p>
		<p><b>Categorical</b> variables are discrete in their own way-- they can only take on a few specific values. For example, gender is often reported as a categorical variable, perhaps with categories "male," "female," and "gender non-conforming." Racial categories are another common use of categorical variables.</p>


		</div>
<div class="col-lg-4">
	<a class="thumbnail" href="https://smile.amazon.com/Exploratory-Data-Analysis-John-Tukey/dp/0201076160?sa-no-redirect=1"><img src="img/EDA.jpg" class="img-responsive"  alt="EDA book"/></a>
	</div>
</div>


	<div class="row">
		<h2>Summarizing categorical data</h2>
	<div class="col-lg-8">
		

		<p>When a variable is <a href="#" data-toggle="tooltip" title="(Meaning it only has a few possible discrete values)">categorical</a>, the way to view the distribution of one variable is a <a href="http://www.bbc.co.uk/skillswise/factsheet/ma37grap-e3-f-reading-bar-charts">bar chart</a> (also known as a bar graph). Bar charts show how many items are counted in each of a set of categories. For example, fivethirtyeight used a bar chart to show <a href="https://fivethirtyeight.com/features/some-people-are-too-superstitious-to-have-a-baby-on-friday-the-13th/">how many babies are born on the 13th of the month</a>, broken down by day of the week.</p>

		<p>Days of the week are discrete choices, so Carl Bialik (the author of the chart) counted up how much higher or lower than average the number of births was for each category. </p>

		<p>Another fivethirtyeight article using bar charts is this article on <a href="https://fivethirtyeight.com/features/whats-the-most-common-name-in-america/">most common names</a>.</p>

		<p>Bar charts are nice because they are not parameterized. That is, there aren't many choices for the data analyst to make when creating a bar chart. As we will see, this is not the case for histograms.</p>
		
	</div>
	<div class="col-lg-4">
		<a class="thumbnail" href="https://fivethirtyeight.com/features/some-people-are-too-superstitious-to-have-a-baby-on-friday-the-13th/"><img src="img/bialik-fridaythe13th-2.png" class="img-responsive" alt="Babies born on the 13th of the month"/></a>

		
	</div>
</div>
<div class="row">&nbsp;</div>
<div class="row">
	<div class="col-lg-8">
		

		
	</div>
	<div class="col-lg-4">
		<blockquote><p>There’s a strand of the data viz world that argues that everything could be a bar chart. That’s possibly true but also possibly a world without joy.</p>
			<p>-<a href="https://hbr.org/2013/03/power-of-visualizations-aha-moment">Amanda Cox</a>, The Upshot. </p></blockquote>
	</div>
</div>

<div id="scrolly">
<div id="sections">
  <section class="step">
    <div class="title">A jumble of values</div>
    We start by considering the dataset as a pool of items, each identified with its value.
  </section>
  <section class="step">
    <div class="title">Into a sorted list</div>
    Gather the items into a list, sorted by value.
  </section>
  <section class="step">
    <div class="title">Prepare a number line</div>
    Draw a line representing all possible numbers between the minimum and maximum data values.
  </section>
  <section class="step">
    <div class="title">And fly!</div>
    Show each item as a dot at the appropriate point along the number line.  Here we draw a path connecting each item's position in the list to its position on the line, to highlight how adjacent items in the list will end up close or far apart on the number line depending on their values.
<p>In the first sample dataset ("mpg"), there are&mdash;by chance&mdash;no two items having exactly the same value.<p>
<p>We have some other datasets available.  At an opposite extreme from "mpg" is "nba", an R sample dataset comprising the ages of 105 NBA athletes.  Because the ages are rounded to whole years, there end up being multiple items (i.e., multiple athletes) with the same age value.  We show repeated values by stacking them on top of each other on the number line.<p>
<p>A third example is "faithful", an R sample dataset of 272 timings (in seconds) between eruptions of the Old Faithful geyser in Yellowstone National Park.  Again, this dataset turns out to have some values for which there are multiple readings&mdash;and again, this multiplicity occurs because the values are being rounded to integers.  If the timings were measured to multiple decimal places (fanciful though that would be, for something as vague as an eruption onset), this dataset would almost certainly have no duplicates.  This is why counting items over a <i>range</i> of values&mdash;which is what histograms are all about&mdash;is useful in the first place.<p>
<p>The buttons at the bottom of the visualisation allow you to switch between these datasets at any stage of the essay.<p>
  </section>
  <section class="step">
    <div class="title">The essence of a histogram</div>
    Once the items are placed along the number line, drawing a histogram involves sectioning the number line into bins and counting the items that fall into each bin.
    
    <p>The <span style="font-family:monospace">hist()</span> function in R will create a histogram for any dataset that you give it, using&mdash;unless you specify otherwise&mdash;default settings for the number and placement of the bins.  Here we show the default histogram that R would draw for this dataset.</p>
  </section>
  <section class="step">
    <div class="title">Why have the bins been drawn here?</div>
    By default, R sets bin edges ("breaks") that are round numbers.  This certainly makes it easy to draw labels for the bins&mdash;and for the "mpg" and "nba" datasets, the chosen breaks do cover the value ranges quite tidily.  But if you look at "faithful" (switching with the buttons along the bottom), that first bin seems a bit arbitrary.  And it is.
  </section>
  <section class="step">
    <div class="title">Shifting histogram</div>
    Watch what happens to the relative bin heights as we move them back and forth along the number line.  Any position is just as valid as any other.
    <p>Mouse over the green dashed rectangle to slow down the animation.</p>
  </section>
  <section class="step">
    <div class="title">Changing histogram width</div>
    Now we try different widths, fixing the left end of the first bin to be equal to the minimum data value.
    <p>Unlike offsets, some widths can be argued as being more valid than others.  For example, setting a width of 1.4 years for the "nba" dataset, where values are always integers, is asking for trouble: some bins will inevitably span two integer values, while others only include one.</p>
  </section>
  <section class="step">
    <div class="title">Unmasking the magic</div>
    The calculations behind a simple histogram.
  </section>
  <section class="step">
    <div class="title">More adjustments</div>
    Now you can vary bin width and/or offset.
  </section>
  <section class="step">
    <div class="title">One more thing...</div>
    What happens at the boundaries matters.
  </section>
</div>
<div id='vis'>
</div>
<div id="extra-space">
</div>
</div>



   <footer>
      <div class="container">
        <p class="text-muted credit">Copyright &copy; 2017 Aran Lunzer and Amelia McNamara. All Rights Reserved.</p>
      </div>
    </footer>


    <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="dist/js/jquery.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>
    <!-- <script src="dist/js/Repo.js/repo.js"></script> -->
    <script type="text/javascript">
	$('.tooltip-test').tooltip()
	$(function () {
  		$('[data-toggle="tooltip"]').tooltip()
	})
	$('#collapseOne').collapse("hide");
	
	$('.more').click(function(){
    	$(this).text(function(i,old){
        	return old=='read less' ?  'read more' : 'read less';
    	});
    	$(this).blur();
	});
	$('.code').click(function(){
    	$(this).text(function(i,old){
        	return old=='hide code' ?  'view code' : 'hide code';
    	});
    	$(this).blur();
	});
	</script>
    
  </body>
</html>